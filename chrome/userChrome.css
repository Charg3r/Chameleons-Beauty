:root{
  --lwt-accent-color: var(--toolbar-bgcolor) !important;
  --lwt-text-color: color-mix(in srgb , var(--lwt-accent-color) 20%, var(--lwt-tab-text)) !important;
  --toolbarbutton-inner-padding: 5px !important;
  --proton-tab-block-margin: 3px 2px !important;
  --tab-min-height:  32px !important;
  --tabs-shadow-size: 0px !important;
  --arrowpanel-menuitem-padding: 7px !important;
  --panel-font-size: 1.1em !important;
  --arrowpanel-padding: 0.8em !important;
  --urlbar-icon-padding: 4px !important;
  --toolbarbutton-outer-padding: 3px !important;
  --urlbar-popup-url-color: #3399ff !important;
  --lwt-toolbar-field-border-color:color-mix(in srgb , var(--toolbar-bgcolor) 95%, var(--lwt-toolbar-field-color) ) !important;
  --button-bgcolor: color-mix(in srgb, var(--lwt-accent-color) 70%, var(--arrowpanel-color)) !important;
  --button-primary-bgcolor: #0063b1 !important;
  --button-primary-hover-bgcolor: color-mix(in srgb, black 10%, #0063b1);
  --button-primary-active-bgcolor: color-mix(in srgb, black 50%, #0063b1);
  --lwt-selected-tab-background-color:var(--toolbar-bgcolor) !important;  
}

/*sombra de la pestaña activa eliminada y transparencia de la tabline y borde superior de la toolbar*/
#TabsToolbar:not([brighttext]) #tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([visuallyselected="true"], [multiselected]) > .tab-stack > .tab-background {
 box-shadow: none !important;}
#navigator-toolbox{--tabs-border-color: transparent !important}  
#tabbrowser-tabs {--tab-line-color: transparent !important}

/*Centrar botón "open newtab"*/
#TabsToolbar .toolbarbutton-1 {padding-top: 1px !important;}

/*"Menú con menos espacios"*/
menupopup > menuitem, menupopup > menu{ padding-block: 0.3em !important;} 

/*"Botón de cerrar pestaña"*/
.tab-close-button{margin-inline-start: 0px !important;width: 16px !important;height: 16px !important;padding: 3px !important; margin-inline-end:-5px !important; }
.tab-close-button[selected="true"]{margin-inline-start: 0px !important;width: 16px !important;height: 16px !important;padding: 3px !important; margin-inline-end:-5px !important;}
.tabbrowser-tab > .tab-stack > .tab-content > .tab-close-button{  border-radius: 4px !important;}
.tab-close-button:hover{background-color: var(--toolbarbutton-active-background) !important; }
.tabbrowser-tab:not([pinned]):hover .tab-close-button{ display:-moz-box !important;}

/*"Medidas menores para scroll de pestañas"*/
#tabbrowser-tabs{ --uc-tabs-scrollbutton-border: 2px }
#scrollbutton-up, #scrollbutton-down{ border-block-width: var(--uc-tabs-scrollbutton-border,0px) !important; }

/*"Íconos de la urlbar más pequeños"*/
.sharing-icon, #permissions-granted-icon, #blocked-permissions-container > .blocked-permission-icon {  height: 14px !important; width :14px !important;}
#tracking-protection-icon{height: 14px !important; width :14px !important;padding: 0px !important; margin-left: 1px !important;}

/*"Color verde de la descripción de web segura"*/
#identity-icon {  width :14px !important;}
description#identity-popup-content-owner-label, description#identity-popup-content-owner, description#identity-popup-content-verifier, #identity-popup-securityView-body > button {
 color: #2cf62c !important;}

/*Páginas seguras de firefox"*/
#identity-box[pageproxystate="valid"].notSecureText > .identity-box-button:hover:not([open]),#identity-box[pageproxystate="valid"].chromeUI > .identity-box-button:hover:not([open]){
  background-color: #3e3bad !important;}
#identity-box[pageproxystate="valid"].notSecureText > .identity-box-button[open="true"],#identity-box[pageproxystate="valid"].chromeUI > .identity-box-button[open="true"]{
  background-color: #3e3bdc !important;}

/*fondo de íconos de la urlbar"*/
:not(.urlbar-icon-wrapper) > .urlbar-icon:hover:not([open]), :not(.urlbar-icon-wrapper) > .urlbar-icon:hover:not([open]), .urlbar-icon-wrapper:hover:not([open]), 
 .urlbar-icon-wrapper:hover:not([open]) , .identity-box-button:hover:not([open="true"]), #tracking-protection-icon-container:hover:not([open="true"]) , 
 .identity-box-button:hover:not([open]){background-color: var(--toolbarbutton-hover-background) !important;}
:not(.urlbar-icon-wrapper) > .urlbar-icon[open="true"], :not(.urlbar-icon-wrapper) > .urlbar-icon[open="true"], .urlbar-icon-wrapper[open="true"], 
 .urlbar-icon-wrapper[open="true"],.identity-box-button[open="true"], #tracking-protection-icon-container[open="true"], .identity-box-button[open="true"]{
  background-color: var(--toolbarbutton-active-background) !important;}

/*"ícono de marcadores y vista de lectura más pequeños"*/
.urlbar-icon {padding: 3px !important;}

/*"Urlbar y Search-bar más pequeñas"*/
#urlbar{min-height: 24px !important; margin-block: 0px 0px !important; text-shadow: none !important;}
#urlbar-background{margin-block: -1px -1px; !important;background: transparent !important }
#urlbar[breakout]:not([open=true]) > #urlbar-input-container {height: 110% !important; margin-top: -1px !important;}
#urlbar-container{margin-block: 0px 0px;}
#searchbar {min-height: 27px !important;text-shadow: none !important; margin-block: 0px 0px !important; padding: 0px !important;background: transparent !important}
#searchbar{ margin-top: -2px !important; margin-bottom: -1px !important;}

/*rework en la Linea de Contenedores*/
tab:not([pinned])[selected] .tab-context-line {max-width: -moz-available !important; height: 32px !important; margin-left: 0px !important;  margin-right: 0px !important; margin-bottom: 0px !important;
  -moz-box-ordinal-group: 2 !important; opacity: 1 !important; border-radius: 4px !important;}
tab:not([pinned]) .tab-context-line {max-width: 16px !important; height: 2px !important; margin-left: 9px !important; margin-bottom: 0px !important;
  -moz-box-ordinal-group: 2 !important; opacity: 1 !important;}
tab:is([pinned])[selected] .tab-context-line {max-width: -moz-available !important; height: 32px !important; margin-left: 0px !important;  margin-right: 0px !important; margin-bottom: 0px !important;
  -moz-box-ordinal-group: 2 !important; opacity: 1 !important;  border-radius: 4px !important;}
tab:is([pinned]):not([selected]) .tab-context-line {max-width: 16px !important; height: 2px !important; margin-left: 10px !important;margin-bottom: 0px !important;
  -moz-box-ordinal-group: 2 !important; opacity: 1 !important;}

.identity-color-blue {--identity-tab-color: #2574A7 !important; --identity-icon-color: #2574A7 !important;}
.identity-color-green {--identity-tab-color: #1E934F !important; --identity-icon-color: #1E934F !important;}
.identity-color-orange {--identity-tab-color: #e67e22 !important; --identity-icon-color: #e67e22 !important;}
.identity-color-red {--identity-tab-color: #ff392b !important; --identity-icon-color: #ff392b !important; }
.identity-color-pink {--identity-tab-color: #ff33bb !important; --identity-icon-color: #ff33bb !important;}
.identity-color-purple {--identity-tab-color: #813E9D !important; --identity-icon-color: #813E9D !important;}
.identity-color-yellow {--identity-tab-color: #e6b803 !important; --identity-icon-color: #e6b803 !important;}
.identity-color-turquoise {--identity-tab-color: #03b48d !important; --identity-icon-color: #03b48d !important;}

/*Label de medios "Reproduciendo" modificado*/
.tab-secondary-label:is([soundplaying], [pictureinpicture]) {display: -moz-box !important; margin-top: -1px !important; margin-bottom: 1px !important; 
 margin-left: 13px !important; text-shadow: none !important; font-weight: bold;}
.tab-secondary-label:is([muted], [activemedia-blocked]){display: none !important;}

/*--------ícono de sonido simpre visible en pestañas con sonido, sin dejar de mostrar el favicon-------*/
.tab-icon-image:not([pinned]){ opacity: 1 !important;}
.tab-icon-overlay{height: 13px !important; width: 13px !important; z-index: 1 ; padding: 0px !important; list-style-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-small.svg") !important;}

.tab-icon-overlay[activemedia-blocked] {list-style-image: url("images/audio-muted.svg") !important; background: black !important; color:#fd3384 !important;}
.tab-icon-overlay:is([pinned][activemedia-blocked]):hover {list-style-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-small.svg") !important; 
  stroke:  black !important; color: #fd2e87 !important; transform: rotate(120deg) !important; transition-duration: 150ms !important; opacity: 1 !important}

/*------ícono  reproduciendose-------*/
.tab-icon-overlay:is([sharing],[soundplaying]):not([pinned]) {transition-duration: 200ms !important; opacity: 1 !important; border-radius: 9px !important; 
  top: 9px; left: 20px !important; color: var(--lwt-tab-text) !important; background-color: transparent !important;} 
.tab-icon-overlay:is([sharing],[soundplaying][selected]):not([pinned]){  fill-opacity: 1 !important }

  /*Compartiendo microfono y cámara*/
    .tab-icon-overlay:not([crashed]):is([pinned],[sharing]) {top: 9px !important; stroke: transparent !important;} 

/*------muteado-------*/
.tab-icon-overlay[muted]:not([pinned]) , .tab-icon-overlay[activemedia-blocked]:not([pinned]) { list-style-image: url("images/audio-muted.svg") !important;
border-radius: 9px !important; top: 8px; left: 9px !important;margin-right: 6px !important; animation: none !important; color:var(--lwt-tab-text) !important;background-color: var(--lwt-accent-color) !important;}
  /*muteado seleccionado y no seleccionado*/
     .tab-icon-overlay:not([pinned][selected="true"])[muted], .tab-icon-overlay:not([pinned][selected="true"])[activemedia-blocked] ,
     .tab-icon-overlay:is([selected="true"][muted]):not([pinned]) , .tab-icon-overlay[activemedia-blocked][selected="true"]:not([pinned]) {
      fill-opacity: 0.6 !important;}
  /*muteado hover*/
    .tab-icon-overlay:not([pinned])[muted]:hover{ stroke: transparent !important; color: var(--lwt-tab-text) !important; fill-opacity: 1 !important;
      transition-duration: 100ms !important; transform: rotate(120deg) !important;list-style-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-small.svg") !important;}

/*----ícono "reproduciendo" hover----*/
.tab-icon-overlay:not([pinned])[soundplaying]:hover, .tab-icon-overlay:not([pinned])[activemedia-blocked]:hover {stroke: transparent !important; 
  color: var(--lwt-tab-text) !important; fill-opacity: 1 !important; transform: rotate(-90deg) !important; list-style-image: url("images/audio-muted.svg") !important;}

/*-----------ícono "reproduciendo" Pinned-----------*/
.tab-icon-overlay:is([pinned][muted]){ fill-opacity: 0.4 !important; stroke: var(--lwt-accent-color) !important; color: var(--lwt-tab-text) !important !important; animation: none !important}
.tab-icon-overlay:is([pinned][soundplaying]){ transform: rotate(0deg); animation: 3000ms infinite ease-in-out; animation-name: slide1;  stroke: var(--lwt-accent-color) !important; color:var(--lwt-tab-text) !important}

/*ícono "reproduciendo" Pinned :hover*/
.tab-icon-overlay:is([pinned]):hover{stroke:var(--lwt-accent-color) !important; color: var(--lwt-tab-text) !important; transform: rotate(90deg) !important}
.tab-icon-overlay:is([pinned][muted]){list-style-image: url("images/audio-muted.svg") !important;}
.tab-icon-overlay:is([pinned][muted]):hover{list-style-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-small.svg") !important; transform: rotate(120deg) !important;transition-duration: 150ms !important; fill-opacity: 1 !important;}
.tab-icon-overlay:is([pinned][soundplaying]):hover{list-style-image: url("images/audio-muted.svg") !important;
  stroke:var(--lwt-accent-color) !important; color: var(--lwt-tab-text) !important; transition-duration: 150ms !important; 
  transform: rotate(90deg) !important; fill-opacity: 1 !important;}

/*Regla para visualizar mejor el seleccionar varias pestañas*/
.tabbrowser-tab[multiselected]:-moz-lwtheme{color: var(--lwt-tab-text) !important; --tab-line-color: transparent !important; }
.tabbrowser-tab> .tab-stack > .tab-background:is([multiselected]) , .tabbrowser-tab> .tab-stack > .tab-content:is([multiselected]){background: #4d4dfe  !important; background-color: #4d4dfe  !important;}

/*Vizualización correcta del porcentaje de zoom mostrado en la urlbar*/
#urlbar-zoom-button {padding: 0px 2px !important; margin: 2px !important;}
.tab-label{text-shadow: none !important}

/*Linea gradiente en pestaña activa*/
tab:not([pinned])[selected="true"] .tab-background {background-image: linear-gradient(to bottom right, #fc2727 0%, #b02cfc 25%, #33b3fd 40%, #fec837 75%, #fd1892 100%) !important;
  border-radius: 4px !important; height: 14px !important;  margin-left: -1px !important; margin-right: -1px !important;}
tab:not([pinned])[selected="true"] .tab-content:not([multiselected]) {background-color: color-mix( in srgb , var(--lwt-accent-color) 93%, black ) !important; border-radius: 3px !important;
  margin-top: 4px !important; height: 30px !important; transition-duration: 0ms !important;}
tab:is([pinned])[selected="true"] .tab-background {background-image: linear-gradient(to bottom right, #fc2727 0%, #b02cfc 25%, #33b3fd 50%, #fec837 75%, #fd1892 100%) !important;
  border-radius: 4px !important; margin-left: -1px !important; margin-right: -1px !important;}
tab:is([pinned])[selected="true"] .tab-content {background-color: var(--lwt-accent-color) !important; border-radius: 3px !important;
  margin-top: 4px !important; height: 30px !important;}
tab:is([pinned]):not([selected="true"]) .tab-content {margin-top: 3px !important; height: 32px !important;}
.tab-content[selected="true"] {border-radius: 4px !important;transition-duration: 0ms !important;}

/*Margenes de las pestañas no seleccionadas*/
.tabbrowser-tab> .tab-stack > .tab-background:not([selected="true"], [multiselected]) {margin-left: -1px !important; margin-right: -1px !important;}
.tabbrowser-tab:hover> .tab-stack > .tab-background:not([selected="true"], [multiselected]){background-color: var(--button-hover-bgcolor) !important}

/*linea colorida urlbar focus*/
#urlbar[focused=true]{background-image: linear-gradient(to bottom right, #fc272770 0%, #b02cfc70 25%, #33b3fd70 50%, #fec83770 75%, #fd189270 100%);
  border-radius: 5px !important;}
#urlbar[focused=true] #urlbar-background{background-color: color-mix(in srgb, var(--lwt-accent-color) 93%, black )!important; border: transparent !important;
  margin-bottom: 1px !important; margin-top: 1px !important; margin-left: 1px !important; margin-right: 1px !important;}
#urlbar[open=true] #urlbar-background{margin-bottom: 1px !important; margin-top: 1px !important; margin-left: 1px !important; margin-right: 1px !important;animation-duration: 0ms !important;}
#urlbar[open=true]{ margin-top: -1px !important; padding-top: 1px !important;}

/* Reduce spacing between pinned and regular tabs */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs]) > #tabbrowser-arrowscrollbox > .tabbrowser-tab[first-visible-unpinned-tab] { 
 margin-inline-start: 2px !important; }

/*Menú contextual*/
  /* Menu items border and padding */
menupopup > menuitem, menupopup > menu { border-radius: 4px !important; margin-left: 4px !important; margin-right: 4px !important;  
  padding-inline-start: 0.5em !important}
  /*borde izquierda y derecha del menú contextual*/
menugroup > menuitem:first-child {padding-left: 4px !important;} 
menugroup > menuitem:last-child { padding-right: 4px !important;}
  /* context menu top buttons radius */
menugroup > menuitem { border-radius: 4px !important; }
menugroup > menuitem > hbox > image { border-radius: 4px !important;}
menuseparator { border-top: 1px solid var(--panel-separator-color) !important; padding: 0 !important; margin-left: 4px !important; margin-right: 4px !important;}
.menupopup-arrowscrollbox {background: var(--arrowpanel-background) !important; background-color:var(--arrowpanel-background) !important; color: var(--arrowpanel-color);
  border: 1px solid var(--arrowpanel-border-color) !important}

/*favicon de pagina newtab*/
.tabbrowser-tab[label^="New Tab"]:not([pinned]) .tab-icon-image, .tabbrowser-tab[label^="Nueva pestaña"]:not([pinned])  .tab-icon-image {background: url("images/foxlogo.svg") !important;
 background-repeat: no-repeat !important; background-size: 16px !important; margin-right: 3.5px !important; padding-left: 16px !important; width: 0 !important}
.tabbrowser-tab[label^="New Tab"]:is([pinned]) .tab-icon-image, .tabbrowser-tab[label^="Nueva pestaña"]:is([pinned])  .tab-icon-image {background: url("images/foxlogo.svg") !important;
 background-repeat: no-repeat !important; background-size: 16px !important; padding-left: 16px !important; width: 0 !important}

/*barra de menú*/
#main-menubar > menu  {border-radius: 4px !important}

/*Espacio izquierda de la primera pestaña*/
.tabbrowser-tab:first-child { padding-left: 4px !important; }
#tabs-newtab-button, #TabsToolbar #new-tab-button { padding-right: 4px !important;}